{% extends 'posts/base.html' %}

{% block content %}
<div class="col-sm-6 col-sm-offset-3">
     <h1>{{ title }}</h1>  
    <form method="GET" action="">
        <input type="input" placeholder="search post" name="q" value="{{ request.GET.q }}" />
        <input type="submit" value="search" />
    </form>
   
        {% for obj in instance %}
            <div class="row"> 
            <div class="col-sm-12 ">
                <div class="thumbnail">
                        {% if obj.image %}
                        <img src="{{ obj.image.url }}" class="img-responsive" />
                        {% endif %}
                <!--<img src="..." alt="...">-->
                <div class="caption">
                    <h3><a href="{{ obj.get_absolute_url }}">{{ obj.title }}</a> <small>{{ obj.stamptime|timesince }} ago</small></h3>
                    <h3>{% if obj.draft %}staff only:<span style="color:red">Draft</span>{% endif %}</h3>
                    <h3>{% if obj.publish %}staff only:<span style="color:green">Future post</span> {% endif %}</h3>
                    {% if obj.user.get_full_name %}
                    <p><strong>Author:</strong>{{ obj.user.get_full_name }}</p>
                    {% endif %}
                    <p>{{ obj.content|safe|truncatechars:120 }}<br/></p>
                    <p><a href="{{ obj.get_absolute_url }}" class="btn btn-primary badge" role="button">view</a>
                </div
                </div>
            </div>
            </div>
        <hr>
            {% endfor %}


{% if  instance.paginator %}
<div class="pagination">
    <span class="pager">
        {% if instance.has_previous %}
            <a href="?{{ page_request_var }}={{ instance.previous_page_number }}{% if instance.GET.get.q %}{{ request.GEt.q }}{% endif %}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ instance.number }} of {{ instance.paginator.num_pages }}
        </span>

        {% if instance.has_next %}
            <a href="?{{ page_request_var }}={{ instance.next_page_number }}{% if instance.GET.get.q %}{{ request.GEt.q }}{% endif %}">next</a>
        {% endif %}
    </span>
</div>
{% endif %}

</div>

{% endblock content %}